{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking an Appointment</title>
    <link rel="stylesheet" href="{% static 'assets/css/styles.css' %}">
    <link rel="icon" href="{%static 'assets/img/logo.jpg'%}" type="image/x-icon">
</head>
<body>
    <!-- Navigation Bar -->
    <nav>
        <ul class="navbar">
            <li><a href="{% url 'home' %}">Home</a></li>
        
            <li class="dropdown">
                <a href="resources.html" class="dropdown-toggle">Resources</a>
                <ul class="dropdown-content">
                    <li><a href="{% url 'articles' %}">Articles</a></li>
                    <li><a href="{% url 'videos' %}">Videos</a></li>
                    <li><a href="{% url 'podcasts' %}">Podcasts</a></li>
                    <li><a href="{% url 'tools' %}">Tools</a></li>
                </ul>
            </li>
            <li class="dropdown">
                <a href="#" class="dropdown-toggle">Virtual Counseling</a>
                <ul class="dropdown-content">
                    <li><a href="{% url 'therapists' %}">Therapist Directory</a></li>
                    <li><a href="{% url 'booking' %}">Booking Appointments</a></li>
                    <li><a href="{% url 'faq' %}">FAQs About Counseling Services</a></li>
                </ul>
            </li>
            <li><a href="{% url 'community' %}">Community</a></li>
            <li><a href="{% url 'about' %}">About</a></li>
            <li><a href="{% url 'register' %}" style="display: inline-block; padding: 10px 20px; font-size: 16px; color: #fff; background-color: #007BFF; text-decoration: none; border-radius: 5px; transition: background-color 0.3s ease;" onmouseover="this.style.backgroundColor='#0056b3'" onmouseout="this.style.backgroundColor='#007BFF'">Login/Register</a></li>
        </ul>
    </nav>    
    <header>
        <h1>Book an Appointment</h1>
        <p>Schedule your consultation in just a few easy steps. Choose between in-person and virtual sessions.</p>
        
    </header>

    <main>
        <section id="booking-appointments" class="booking-section">
            <body style="background: url('{% static 'assets/img/background.png' %}') no-repeat center center fixed; background-size: cover; margin: 0;">
                <form class="booking-form" method="POST" enctype="multipart/form-data" action="{% url 'appointment' %}">
                    {% csrf_token %}
                    
                    <!-- Name -->
                    <label for="name">Full Name:</label>
                    <input type="text" id="name" name="full_name" placeholder="Enter your full name" required>
                    
                    <!-- Email -->
                    <label for="email">Email Address:</label>
                    <input type="email" id="email" name="email" placeholder="Enter your email address" required>
                    
                    <!-- Phone Number -->
                    <label for="phone">Phone Number:</label>
                    <input type="tel" id="phone" name="phone_number" placeholder="Enter your phone number" required>
                    
                    <!-- Appointment Date -->
                    <label for="date">Preferred Appointment Date:</label>
                    <input type="date" id="date" name="appointment_date" required>
                    
                    <!-- Session Type -->
                    <label for="session-type">Session Type:</label>
                    <select id="session-type" name="session_type" required>
                        <option value="in-person">In-Person</option>
                        <option value="virtual">Virtual</option>
                    </select>
                    
                    <!-- Additional Notes -->
                    <label for="notes">Additional Notes (Optional):</label>
                    <textarea id="notes" name="additional_notes" rows="4" placeholder="Let us know any specific concerns or preferences."></textarea>
                    
                    <!-- Amount -->
                    <label for="amount">Amount to Pay:</label>
                    <input type="number" id="amount" name="amount" placeholder="Enter the amount (e.g., 1000)" required>
                    
                    <!-- Image Upload -->
                    <label for="image">Upload Document/Image:</label>
                    <input type="file" id="image" name="image" accept="image/*">
                    
                    <!-- Payment Section -->
                    <div class="payment-section">
                        <h3>Payment Details</h3>
                        <p>Please confirm your payment by entering your phone number for M-Pesa.</p>
                        <label for="payment-phone">Payment Phone Number:</label>
                        <input type="tel" id="payment-phone" name="payment_phone" placeholder="Enter M-Pesa phone number" required>
                    </div>
                    
                    <!-- Submit Button -->
                    <button type="submit" class="btn">Confirm Appointment and Pay</button>
                </form>
                
                <!-- Success Message -->
                <div id="success-message" style="display: none; margin-top: 20px; padding: 10px; border: 1px solid #4CAF50; background: #dff0d8; color: #3c763d; border-radius: 5px;">
                    Appointment successfully booked and payment confirmed. Thank you!
                </div>
                
                <script>
                    // JavaScript to show success message on form submission
                    document.querySelector('.booking-form').addEventListener('submit', function(event) {
                        event.preventDefault(); // Prevent default form submission to demonstrate the success message
                
                        // Simulate successful form submission
                        const successMessage = document.getElementById('success-message');
                        successMessage.style.display = 'block';
                
                        // Optionally reset the form
                        this.reset();
                    });
                </script>      
                <script>
                    // Check for success message
                    document.addEventListener('DOMContentLoaded', function () {
                        const messages = document.querySelectorAll('.message');
                        if (messages.length) {
                            messages.forEach(msg => alert(msg.textContent));
                        }
                    });
                </script>
                
        
        </section>
    </main>    
    <footer class="footer">
        <div class="footer-container">
            <!-- About Section -->
            <div class="footer-about">
                <h3>About Us</h3>
                <p>
                    Mental Health Support Hub is dedicated to providing accessible resources and 
                    tools to help you prioritize mental well-being. Together, we can build a healthier 
                    and more resilient community.
                </p>
            </div>
    
            <!-- Quick Links Section -->
            <div class="footer-links">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="{% url 'home' %}">Home</a></li>
                    <li><a href="{% url 'resources' %}">Resources</a></li>
                    <li><a href="{% url 'resources' %}">Virtual Counseling</a></li>
                    <li><a href="{% url 'community' %}">Community</a></li>
                    <li><a href="{% url 'contact' %}">Contact</a></li>
                </ul>
                </ul>
            </div>
    
            <!-- Social Media Section -->
            <div class="footer-social">
                <h3>Follow Us</h3>
                <div class="social-icons">
                    <a href="#" aria-label="Facebook">
                        <img src="{%static 'assets/img/facebook_icon-removebg-preview.png'%}" alt="Facebook">
                    </a>
                    <a href="#" aria-label="Twitter">
            
                    <img src="{% static 'assets/img/x-removebg-preview.png'%}" alt="Instagram">
                    </a>
                    <a href="#" aria-label="Instagram">
                        <img src="{% static 'assets/img/instagram-removebg-preview.png'%}" alt="Instagram">
                    </a>
                    <a href="#" aria-label="LinkedIn">
                        <img src="{% static 'assets/img/linked in.png'%}" alt="LinkedIn">
                    </a>
                </div>
            </div>
    
            <!-- Newsletter Subscription -->
            <div class="footer-newsletter">
                <h3>Stay Updated</h3>
                <form class="newsletter-form">
                    <input type="email" placeholder="Enter your email" required>
                    <button type="submit">Subscribe</button>
                </form>
            </div>
        </div>
    
        <div class="footer-bottom">
            <p>&copy; 2024 Mental Health Support Hub. All Rights Reserved.</p>
        </div>
    </footer>
    

    <script src="{% static 'assets/js/script.js' %}"></script>
</body>
</html>
